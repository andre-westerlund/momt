<%- include partials/header.ejs %>

<div id="recordModal" class="modal fade">
  <div class="modal-dialog">
   <form method="post" id="recordForm">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title">Add New User</h4>
         </div>
         <div class="modal-body"> 
            <input type="hidden" id="id" value="">         
            <div class="form-group">
              <label for="name" class="control-label">First Name</label>
              <input type="text" class="form-control" 
                id="firstName" name="firstName" placeholder="First Name" required> 
      			</div>
            <div class="form-group">
              <label for="lastName" class="control-label">Last Name</label>
              <input type="text" class="form-control" 
                id="lastName" name="lastName" placeholder="Last Name" required> 
      			</div>
            <div class="form-group">
              <label for="email" class="control-label">Email</label>
              <input type="email" class="form-control" 
                id="email" name="email" placeholder="Email" required> 
      			</div>
             <div class="form-group">
              <label for="password" class="control-label">Password</label>
              <input type="password" class="form-control" 
                id="password" name="password" placeholder="Password" required> 
      			</div>
         <div class="form-group">
            <input type="hidden" id="action" name="action">   
            <div class="modal-footer">
               <input type="submit" name="save" id="save" 
                  class="btn btn-info" value="Save" />
               <button type="button" class="btn btn-default" 
                  data-dismiss="modal">Close</button>
            </div>
         </div>
        </div>
		</div>
   </form>
</div>
</div>



<div class="container my-5">
<div class="alert" role="alert">
</div>
<h1 class='h1 text-center my-5'><%= title %></h1>
 <div class="row">
      <div class="col">
        <button class="btn btn-info btn-lg my-2 float-right newUser" data-toggle="modal" data-target="#recordModal">New</button>
      </div>
    </div>
    <table id="user" class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">First Name</th>          
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>     
          <th class="no-sort" scope="col"></th>
          <th class="no-sort" scope="col"></th>
        </tr>
      </thead>
      <tbody>
      <% if(users && users.length > 0){ %>
        <% users.forEach(user => {%>
        <tr id="<%=user._id%>">
            <td><%=user.firstName%></td>
            <td><%=user.lastName%></td>
            <td><%=user.email%></td>
            <td><a class="btn btn-warning btn-small text-white update">Edit</a></td>
            <td><a class="btn btn-danger btn-small text-white delete">Delete</a></td>
        </tr>
        <% })%>
      <% }%>
      </tbody>
    </table>
</div>

<%- include partials/footer.ejs  %> 
<script type="text/javascript" src="/javascripts/user.js"></script>